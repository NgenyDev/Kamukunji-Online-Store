<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kamukunji Online Store</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo"><a href="/">Kamukunji Online Store</a></div> 
        <nav>
            <ul>
                <li><a href="/shop.html">Shop</a></li>
                <li><a href="/cart.html">Cart</a></li>
                <li><a href="/contact.html">Contact</a></li>
            </ul>
        </nav>
        <div class="search-bar">
            <input type="text" id="search-input" placeholder="Search...">
            <button id="search-button">Search</button>
        </div>
        
        <div class="auth-buttons">
            <a href="/login.html" class="btn btn-primary">Sign In</a>
            <a href="/register.html" class="btn btn-secondary">Register</a>
        </div>
    </header>
    
    <main>
        <section class="hero">
            <h1>Welcome to Kamukunji Online Store</h1>
            <p>Find the best products for your home</p>
        </section>
        <section class="products">
            <h2>Featured Products</h2>
            <div class="product-list">
                <div class="product-item" data-id="1" data-name="Curtains" data-price="2999" data-img="product1.jpg">
                    <img src="images/download (2).jpeg" alt="Curtains">
                    <h3>Curtains</h3>
                    <p>KSH 2999</p>
                    <button onclick="addToCart(1)">Add to Cart</button>
                </div>
                <div class="product-item" data-id="2" data-name="Carpet" data-price="5999" data-img="product2.jpg">
                    <img src="images/download (16).jpeg" alt="Carpets">
                    <h3>Carpets</h3>
                    <p>KSH 5999</p>
                    <button onclick="addToCart(2)">Add to Cart</button>
                </div>
                <div class="product-item" data-id="3" data-name="Office Blinds" data-price="4999" data-img="product3.jpg">
                    <img src="images/download (10).jpeg" alt="Office Blinds">
                    <h3>Office Blinds</h3>
                    <p>KSH 4999</p>
                    <button onclick="addToCart(3)">Add to Cart</button>
                </div>
                <div class="product-item" data-id="4" data-name="Rails" data-price="2999" data-img="product4.jpg">
                    <img src="images/download (4).jpeg" alt="Rods">
                    <h3>Rods</h3>
                    <p>KSH 2999</p>
                    <button onclick="addToCart(4)">Add to Cart</button>
                </div>
                <div class="product-item" data-id="5" data-name="Wallpapers" data-price="1999" data-img="product5.jpg">
                    <img src="images/wallpaper25.jpeg" alt="Wallpapers">
                    <h3>Wallpapers</h3>
                    <p>KSH 1999</p>
                    <button onclick="addToCart(5)">Add to Cart</button>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <i class="fa-brands fa-facebook-f"></i>
        <i class="fa-brands fa-twitter"></i>
        <i class="fa-brands fa-instagram"></i>
        <p>&copy; 2024 Kamukunji Online Store</p>
    </footer>

    <div id="popup" class="popup">Item added to cart!</div>

    <script>
        function addToCart(id) {
            const productItem = document.querySelector(`.product-item[data-id='${id}']`);
            const product = {
                id: productItem.getAttribute('data-id'),
                name: productItem.getAttribute('data-name'),
                price: productItem.getAttribute('data-price'),
                img: productItem.getAttribute('data-img')
            };
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.push(product);
            localStorage.setItem('cart', JSON.stringify(cart));

            // Change button color to green
            const button = productItem.querySelector('button');
            button.style.backgroundColor = 'green';

            // Show popup
            const popup = document.getElementById('popup');
            popup.innerText = `${product.name} added to cart!`;
            popup.style.display = 'block';

            // Hide popup after 5 seconds
            setTimeout(() => {
                popup.style.display = 'none';
            }, 5000);
        }
    </script>
    <script>
        document.getElementById('search-button').addEventListener('click', async function() {
            const query = document.getElementById('search-input').value;
    
            // Perform a search request to your server or API
            try {
                const response = await fetch(`http://localhost:3000/search?q=${encodeURIComponent(query)}`, {
                    method: 'GET'
                });
    
                if (response.ok) {
                    const results = await response.json();
                    displayResults(results);
                } else {
                    console.error('Search failed:', response.statusText);
                    alert('Search failed!');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Search failed: ' + error.message);
            }
        });
    
        function displayResults(results) {
            // Clear previous results
            const resultsContainer = document.getElementById('results-container');
            if (resultsContainer) resultsContainer.remove();
    
            // Create and populate results container
            const newResultsContainer = document.createElement('div');
            newResultsContainer.id = 'results-container';
    
            results.forEach(result => {
                const resultItem = document.createElement('div');
                resultItem.textContent = result.name; // Adjust based on your data structure
                newResultsContainer.appendChild(resultItem);
            });
    
            document.body.appendChild(newResultsContainer);
        }
    </script>
</body>
</html>



